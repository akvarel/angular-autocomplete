function directiveFunc(){var e=function(e,t,o){t.find("input").on("keydown",function(o){var a=null;if(13===o.keyCode&&t.find(".collection-item.active").trigger("click"),40===o.keyCode|38===o.keyCode&&(a=t.find(".collection-item"),0!==a.length)){var n=t.find(".collection-item.active"),i=!0;angular.element(n).length>0&&(i=!1),n=angular.element(n).length>0?n:a[0],40===o.keyCode?i?angular.element(n).addClass("active").children("span").css("color","white"):(angular.element(n).removeClass("active").children("span").css("color",e.color),angular.element(n).next().addClass("active").children("span").css("color","white")):38===o.keyCode&&(angular.element(n).removeClass("active").children("span").css("color",e.color),angular.element(n).prev().addClass("active").children("span").css("color","white"))}})};return{restrict:"E",replace:!0,scope:{autoData:"=",sourceLink:"=",acTitle:"=",color:"="},link:e,controller:autocompleteController,template:'<div ng-init="init()" style="position:relative;" ng-blur="changeShowVariable(false)"><style>  input[type=text]:focus:not([readonly])#auto-complete-id{    border-bottom:1px solid {{color}} !important;    box-shadow:0 1px 0 0 {{color}} !important;  }  #auto-complete-label.active{    color:{{color}} !important;  }  .collection-item.active{    background-color:{{color}} !important;  }</style><div class="input-field">  <input type="text" id="auto-complete-id" ng-model="inputModel" ng-model-onblur ng-change="textChange()" ng-focus="changeShowVariable(true)">  <label id="auto-complete-label" for="auto-complete-id"><span ng-bind="acTitle"></span></label></div><div class="collection" ng-show="showList()" style="margin-top: -1%;position:absolute;width:100%;z-index:99;">  <a class="collection-item" ng-repeat="item in getData()" ng-click="chooseItem(item)"><span style="color:{{color}};" ng-bind="item"></span></a></div></div>'}}function autocompleteController(e){e.inputModel="",e.dataType=0,e.dataToList=[],e.showListFlag=!1,e.init=function(){void 0!==e.autoData&&e.autoData.length>0?e.dataType=1:void 0!==e.sourceLink&&""!==e.sourceLink&&(e.dataType=2)},e.changeShowVariable=function(t){t?t=0!==e.dataType&&0!==e.inputModel.length:e.chooseItemFlag&&(t=!0),e.showListFlag=t},e.showList=function(){return e.showListFlag},e.getData=function(){if(e.dataToList=[],1===e.dataType)for(var t=0;t<e.autoData.length;t++)-1!==e.autoData[t].indexOf(e.inputModel)&&e.dataToList.push(e.autoData[t]);return 0===e.dataToList.length&&(e.showListFlag=!1),e.dataToList},e.chooseItem=function(t){e.inputModel=t,e.showListFlag=!1},e.textChange=function(){e.showListFlag=0!==e.dataType&&0!==e.inputModel.length},e.showTitle=function(){return void 0!==e.title&&0!==e.length}}function autoServiceFunction(e,t){var o={getData:function(o){var a=t.defered();return e.get(o).then(function(e){a.resolve(e)},function(e){a.reject()}),a.promise}};return o}angular.module("auto-complete",[]),angular.module("auto-complete").directive("autoCompleteInput",directiveFunc),directiveFunc.$inject=[],autocompleteController.$inject=["$scope"],angular.module("auto-complete").service("autoService",autoServiceFunction),autoServiceFunction.$inject=["$http","$q"];
